<app-applicant-layout>
  <div class="applications-container">
    <!-- Page Header -->
    <div class="page-header">
      <div class="header-content">
        <h1>My Applications</h1>
        <p class="subtitle">View and manage all your road reclassification applications</p>
      </div>
      <button class="btn-primary" (click)="openCreateModal()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="12" y1="5" x2="12" y2="19"/>
          <line x1="5" y1="12" x2="19" y2="12"/>
        </svg>
        New Application
      </button>
    </div>

    <!-- Filters Bar -->
    <div class="filters-bar">
      <div class="filters-left">
        <div class="filter-group">
          <label>Status:</label>
          <select [ngModel]="selectedStatusFilter()" (ngModelChange)="onStatusFilterChange($event)">
            <option value="">All Statuses</option>
            <option *ngFor="let status of statuses" [value]="status">
              {{ formatStatus(status) }}
            </option>
          </select>
        </div>
        <button *ngIf="selectedStatusFilter()"
                class="btn-text"
                (click)="clearFilters()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
          Clear Filters
        </button>
      </div>
      <div class="filters-right">
        <span class="record-count">{{ filteredApplications().length }} application(s)</span>
      </div>
    </div>

    <!-- Professional Data Table -->
    <app-data-table
      [data]="filteredApplications()"
      [columns]="tableColumns"
      [actions]="tableActions"
      [loading]="isLoading()"
      [config]="tableConfig"
      [showSerialNumber]="true">
    </app-data-table>

    <!-- New Application Modal -->
    <app-new-application
      [isOpen]="showModal()"
      (closeModal)="closeModal()"
      (applicationSubmitted)="onApplicationSubmitted()">
    </app-new-application>
  </div>
</app-applicant-layout>
