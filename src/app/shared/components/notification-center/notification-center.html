<div class="notification-center">
  <!-- Notification Bell Button -->
  <button class="notification-btn" (click)="togglePanel()" [attr.aria-label]="'Notifications' + (unreadCount > 0 ? ', ' + unreadCount + ' unread' : '')">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
      <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
    </svg>
    <span class="notification-badge" *ngIf="unreadCount > 0">{{ unreadCount > 9 ? '9+' : unreadCount }}</span>
  </button>

  <!-- Notification Panel -->
  <div class="notification-panel" *ngIf="isOpen" [@slideDown]>
    <div class="panel-header">
      <h3>Notifications</h3>
      <button class="clear-btn" *ngIf="notifications.length > 0" (click)="onClearAll()">
        Clear all
      </button>
    </div>

    <div class="notifications-list" *ngIf="notifications.length > 0">
      <div
        *ngFor="let notification of notifications"
        class="notification-item"
        [class.unread]="!notification.read"
        [class]="'notification-' + notification.type"
        (click)="onNotificationClick(notification)"
        role="button"
        tabindex="0"
        [attr.aria-label]="notification.title + '. ' + notification.message">

        <div class="notification-icon">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path [attr.d]="getIconForType(notification.type)"/>
          </svg>
        </div>

        <div class="notification-content">
          <h4>{{ notification.title }}</h4>
          <p>{{ notification.message }}</p>
          <span class="notification-time">{{ getTimeAgo(notification.timestamp) }}</span>
        </div>

        <div class="notification-status" *ngIf="!notification.read">
          <span class="unread-dot"></span>
        </div>
      </div>
    </div>

    <div class="empty-state" *ngIf="notifications.length === 0">
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
        <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
      </svg>
      <p>No notifications</p>
    </div>
  </div>

  <!-- Backdrop -->
  <div class="notification-backdrop" *ngIf="isOpen" (click)="closePanel()"></div>
</div>
