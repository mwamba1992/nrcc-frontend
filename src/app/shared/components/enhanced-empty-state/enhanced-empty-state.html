<div class="empty-state-container" role="status" aria-live="polite">
  <!-- Icon -->
  <div class="empty-state-icon" aria-hidden="true">
    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" [innerHTML]="getIconSvg()">
    </svg>
  </div>

  <!-- Content -->
  <div class="empty-state-content">
    <h3 class="empty-state-title">{{ title }}</h3>
    <p class="empty-state-message">{{ message }}</p>

    <!-- Government Guidance -->
    <div class="empty-state-guidance" *ngIf="guidance">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
        <circle cx="12" cy="12" r="10"/>
        <path d="M12 16v-4"/>
        <path d="M12 8h.01"/>
      </svg>
      <span>{{ guidance }}</span>
    </div>

    <!-- Quick Actions -->
    <div class="empty-state-actions" *ngIf="actions && actions.length > 0">
      <button
        *ngFor="let action of actions"
        class="action-btn"
        [class.primary]="action.primary"
        (click)="executeAction(action)"
        [attr.aria-label]="action.label">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true" *ngIf="action.icon">
          <ng-container [ngSwitch]="action.icon">
            <ng-container *ngSwitchCase="'plus'">
              <line x1="12" y1="5" x2="12" y2="19"/>
              <line x1="5" y1="12" x2="19" y2="12"/>
            </ng-container>
            <ng-container *ngSwitchCase="'refresh'">
              <polyline points="23 4 23 10 17 10"/>
              <polyline points="1 20 1 14 7 14"/>
              <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
            </ng-container>
            <ng-container *ngSwitchCase="'search'">
              <circle cx="11" cy="11" r="8"/>
              <path d="m21 21-4.35-4.35"/>
            </ng-container>
          </ng-container>
        </svg>
        {{ action.label }}
      </button>
    </div>

    <!-- Last Refresh Timestamp -->
    <div class="empty-state-meta" *ngIf="showLastRefresh">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
        <circle cx="12" cy="12" r="10"/>
        <polyline points="12 6 12 12 16 14"/>
      </svg>
      <span>Last checked: {{ lastRefreshTime }}</span>
      <button class="refresh-btn" (click)="onRefresh()" aria-label="Refresh data">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <polyline points="23 4 23 10 17 10"/>
          <polyline points="1 20 1 14 7 14"/>
          <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
        </svg>
      </button>
    </div>

    <!-- Notification Setup -->
    <div class="empty-state-notification" *ngIf="showNotificationSetup">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
        <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
      </svg>
      <span>Want to be notified when new items arrive?</span>
      <button class="notification-btn" (click)="onSetupNotifications()" aria-label="Setup email notifications">
        Setup Notifications
      </button>
    </div>
  </div>
</div>
