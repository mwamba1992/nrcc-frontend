<div class="global-search" [class.expanded]="isExpanded">
  <div class="search-container">
    <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
      <circle cx="11" cy="11" r="8"/>
      <path d="m21 21-4.35-4.35"/>
    </svg>

    <input
      id="global-search-input"
      type="text"
      class="search-input"
      [(ngModel)]="searchQuery"
      (keydown)="onKeyDown($event)"
      (focus)="onFocus()"
      (blur)="onBlur()"
      placeholder="Search applications, IDs, districts..."
      aria-label="Global search for applications"
      autocomplete="off"
    />

    <kbd class="search-shortcut" *ngIf="!isExpanded" aria-hidden="true">âŒ˜K</kbd>

    <button
      *ngIf="searchQuery"
      class="clear-btn"
      (click)="searchQuery = ''; onSearch()"
      aria-label="Clear search query"
      type="button"
    >
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <line x1="18" y1="6" x2="6" y2="18"/>
        <line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </button>
  </div>
</div>
